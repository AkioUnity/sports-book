<?php

App::uses('AppHelper', 'View/Helper');
App::uses('Country', 'Model');

class CountriesHelper extends AppHelper
{
    /**
     * Helper name
     *
     * @var string
     */
    public $name = 'Countries';

    /**
     * Country Model Object
     *
     * @var $Country Country
     */
    private $Country = null;

    /**
     * Default Constructor
     *
     * @param View $View The View this helper is being attached to.
     * @param array $settings Configuration settings for the helper.
     */
    public function __construct(View $View, $settings = array()) {
        $this->Country = new Country();
        parent::__construct($View, $settings);
    }

    public function id2Icon(array $country)
    {
        $id = isset($country["import_id"]) ? $country["import_id"] : null;
        if (is_null($id)) {
            CakeLog::write('error', var_export($country, true));
        }
        $db = array(
            57   =>  "Hungary",
            229  =>  "Ukraine",
            221  =>  "Paraguay",
            248  =>  "International",
            218  =>  "Mexico",
            215  =>  "Italy",
            103  =>  "Turkey",
            213  =>  "Iceland",
            203  =>  "Argentina",
            202  =>  "Czech Republic",
            86   =>  "Slovakia",
            85   =>  "Slovenia",
            230  =>  "Uruguay",
            60   =>  "Israel",
            212  =>  "Honduras",
            69   =>  "Armenia",
            71   =>  "Bolivia",
            73   =>  "Canada",
            76   =>  "Portugal",
            79   =>  "Russia",
            80   =>  "Saudi Arabia",
            83   =>  "Sweden",
            198  =>  "Costa Rica",
            197  =>  "Colombia",
            122  =>  "Netherlands",
            147  =>  "France",
            148  =>  "Japan",
            179  =>  "Bahrain",
            178  =>  "Bulgaria",
            176  =>  "Belgium",
            174  =>  "Bosnia and Herzegovina",
            173  =>  "Azerbaijan",
            172  =>  "Australia",
            171  =>  "Austria",
            183  =>  "Brazil",
            143  =>  "Finland",
            142  =>  "Spain",
            123  =>  "Norway",
            196  =>  "China",
            195  =>  "Chile",
            128  =>  "Lithuania",
            129  =>  "Luxembourg",
            131  =>  "Morocco",
            192  =>  "Switzerland",
            135  =>  "Denmark",
            187  =>  "Belarus",
            161  =>  "Germany",
            22   =>  "Poland",
            14   =>  "South Africa",
            240  =>  "Scotland",
            231  =>  "Venezuela",
            244  =>  "Serbia",
            241  =>  "Northern Ireland",
            50   =>  "Guatemala",
            243  =>  "England",
            48   =>  "Greece",
            75   =>  "Cyprus",
            234  =>  "Macedonia",
            4    =>  "United States",
            55   =>  "Croatia",
            78   =>  "Romania",
            18   =>  "Peru",
            2    =>  "Great Britain",
            193  =>  "Ivory Coast (Cote D'Ivoire)",
            236  =>  "Tanzania",
            237  =>  "Guinea Bissau",
            235  =>  "Virgin Islands (USA)",
            194  =>  "Cook Islands",
            205  =>  "Burundi",
            233  =>  "Zambia",
            204  =>  "Bangladesh",
            97   =>  "Togo",
            124  =>  "Nepal",
            201  =>  "Christmas Island",
            200  =>  "Cape Verde",
            199  =>  "Cuba",
            132  =>  "Monaco",
            191  =>  "Congo, The Democratic Republic of the",
            232  =>  "Yemen",
            190  =>  "Central African Republic",
            238  =>  "Iran",
            189  =>  "Cocos (Keeling) Islands",
            246  =>  "Palestine",
            175  =>  "Barbados",
            247  =>  "Montenegro",
            219  =>  "Northern Mariana Islands",
            170  =>  "American Samoa",
            169  =>  "Antarctica",
            168  =>  "Angola",
            167  =>  "Netherlands Antilles",
            177  =>  "Burkina Faso",
            245  =>  "N/A",
            180  =>  "Benin",
            188  =>  "Belize",
            239  =>  "Reunion (French)",
            186  =>  "Botswana",
            185  =>  "Bhutan",
            184  =>  "Bahamas",
            182  =>  "Brunei Darussalam",
            181  =>  "Bermuda",
            242  =>  "Wales",
            166  =>  "Albania",
            668  =>  "Kosovo",
            672  =>  "Soviet Union",
            656  =>  "Guinea-Bissau",
            655  =>  "Gibraltar",
            654  =>  "New Caledonia",
            653  =>  "Timor-Leste",
            673  =>  "Czechoslovakia",
            674  =>  "Dutch East Indies",
            652  =>  "Undefined",
            465  =>  "Unknown",
            675  =>  "Zaire",
            657  =>  "Marshall Islands",
            671  =>  "East Germany",
            658  =>  "Tuvalu",
            667  =>  "Northern Mariana Islands",
            666  =>  "South Sudan",
            669  =>  "Yugoslavia",
            665  =>  "Zanzibar",
            664  =>  "Curacao",
            663  =>  "Turks and Caicos Islands",
            662  =>  "Montserrat",
            661  =>  "Anguilla",
            670  =>  "West Germany",
            659  =>  "Jersey",
            -1   =>  "Global",
            10   =>  "Vanuatu",
            216  =>  "Kazakhstan",
            46   =>  "Guadeloupe (French)",
            49   =>  "S. Georgia & S. Sandwich Isls.",
            214  =>  "Iraq",
            660  =>  "Christmas Island",
            211  =>  "Guinea",
            210  =>  "Greenland",
            209  =>  "Ghana",
            208  =>  "Gabon",
            207  =>  "Egypt",
            217  =>  "Liberia",
            43   =>  "French Guyana",
            40   =>  "Micronesia",
            27   =>  "Svalbard and Jan Mayen Islands",
            228  =>  "Trinidad and Tobago",
            227  =>  "Tonga",
            226  =>  "Sudan",
            225  =>  "Singapore",
            224  =>  "Samoa",
            223  =>  "Qatar",
            222  =>  "Philippines",
            36   =>  "Latvia",
            220  =>  "Panama",
            206  =>  "Congo",
            165  =>  "Anguilla",
            88   =>  "San Marino",
            62   =>  "British Indian Ocean Territory",
            61   =>  "India",
            59   =>  "Ireland",
            58   =>  "Indonesia",
            56   =>  "Haiti",
            54   =>  "Heard and McDonald Islands",
            53   =>  "Hong Kong",
            52   =>  "Guyana",
            51   =>  "Guam (USA)",
            47   =>  "Equatorial Guinea",
            45   =>  "Gambia",
            44   =>  "Gibraltar",
            42   =>  "Georgia",
            63   =>  "Jamaica",
            64   =>  "Jordan",
            87   =>  "Sierra Leone",
            84   =>  "Saint Helena",
            82   =>  "Seychelles",
            81   =>  "Solomon Islands",
            1    =>  "Uganda",
            77   =>  "Palau",
            74   =>  "Cameroon",
            72   =>  "Bouvet Island",
            70   =>  "Aruba",
            68   =>  "Afghanistan, Islamic State of",
            67   =>  "Liechtenstein",
            66   =>  "North Korea",
            65   =>  "Cambodia, Kingdom of",
            41   =>  "Grenada",
            39   =>  "Ethiopia",
            20   =>  "Papua New Guinea",
            19   =>  "Polynesia (French)",
            17   =>  "Oman",
            16   =>  "Zimbabwe",
            15   =>  "Zaire",
            13   =>  "Yugoslavia",
            12   =>  "Mayotte",
            11   =>  "Wallis and Futuna Islands",
            9    =>  "Vietnam",
            8    =>  "Virgin Islands (British)",
            7    =>  "Saint Vincent & Grenadines",
            6    =>  "Holy See (Vatican City State)",
            5    =>  "Uzbekistan",
            21   =>  "Pakistan",
            23   =>  "Saint Pierre and Miquelon",
            38   =>  "Dominica",
            37   =>  "Moldavia",
            35   =>  "Nauru",
            34   =>  "Nicaragua",
            33   =>  "New Caledonia (French)",
            32   =>  "Malta",
            31   =>  "Tuvalu",
            30   =>  "Thailand",
            29   =>  "Turks and Caicos Islands",
            28   =>  "Senega",
            26   =>  "Rwanda",
            25   =>  "Puerto Rico",
            24   =>  "Pitcairn Island",
            3    =>  "USA Minor Outlying Islands",
            89   =>  "Somalia",
            164  =>  "Antigua and Barbuda",
            145  =>  "Falkland Islands",
            144  =>  "Fiji",
            141  =>  "Eritrea",
            140  =>  "Western Sahara",
            139  =>  "Estonia",
            138  =>  "Ecuador",
            137  =>  "Algeria",
            136  =>  "Dominican Republic",
            134  =>  "Djibouti",
            133  =>  "Madagascar",
            130  =>  "Libya",
            127  =>  "Lesotho",
            126  =>  "New Zealand",
            146  =>  "Faroe Islands",
            149  =>  "Kenya",
            163  =>  "UAE",
            162  =>  "Turkmenistan",
            160  =>  "Sri Lanka",
            159  =>  "Saint Lucia",
            158  =>  "Lebanon",
            157  =>  "Laos",
            156  =>  "Cayman Islands",
            155  =>  "Kuwait",
            154  =>  "South Korea",
            153  =>  "Saint Kitts & Nevis Anguilla",
            152  =>  "Comoros",
            151  =>  "Kiribati",
            150  =>  "Kyrgyz Republic (Kyrgyzstan)",
            125  =>  "Niue",
            121  =>  "Nigeria",
            105  =>  "Marshall Islands",
            104  =>  "Taiwan",
            102  =>  "East Timor",
            101  =>  "Tunisia",
            100  =>  "Turkmenistan",
            99   =>  "Tokelau",
            98   =>  "Tadjikistan",
            96   =>  "French Southern Territories",
            95   =>  "Chad",
            94   =>  "Swaziland",
            93   =>  "Syria",
            92   =>  "El Salvador",
            91   =>  "Saint Tome (Sao Tome) and Principe",
            106  =>  "Mali",
            107  =>  "Myanmar",
            120  =>  "Norfolk Island",
            119  =>  "Niger",
            118  =>  "Namibi",
            117  =>  "Mozambique",
            116  =>  "Malaysia",
            115  =>  "Malawi",
            114  =>  "Maldives",
            113  =>  "Mauritius",
            112  =>  "Montserrat",
            111  =>  "Mauritania",
            110  =>  "Martinique (French)",
            109  =>  "Macau",
            108  =>  "Mongolia",
            90   =>  "Suriname",



        );
        $countrycodes = array (
            'AF' => 'Afghanistan',
            'AX' => 'Åland Islands',
            'AL' => 'Albania',
            'DZ' => 'Algeria',
            'AS' => 'American Samoa',
            'AD' => 'Andorra',
            'AM' => 'Armenia',
            'AO' => 'Angola',
            'AI' => 'Anguilla',
            'AQ' => 'Antarctica',
            'AG' => 'Antigua and Barbuda',
            'AR' => 'Argentina',
            'AU' => 'Australia',
            'AT' => 'Austria',
            'AZ' => 'Azerbaijan',
            'BS' => 'Bahamas',
            'BH' => 'Bahrain',
            'BD' => 'Bangladesh',
            'BB' => 'Barbados',
            'BY' => 'Belarus',
            'BE' => 'Belgium',
            'BZ' => 'Belize',
            'BJ' => 'Benin',
            'BM' => 'Bermuda',
            'BT' => 'Bhutan',
            'BO' => 'Bolivia',
            'BA' => 'Bosnia and Herzegovina',
            'BW' => 'Botswana',
            'BV' => 'Bouvet Island',
            'BR' => 'Brazil',
            'IO' => 'British Indian Ocean Territory',
            'BN' => 'Brunei Darussalam',
            'BG' => 'Bulgaria',
            'BF' => 'Burkina Faso',
            'BI' => 'Burundi',
            'KH' => 'Cambodia',
            'CM' => 'Cameroon',
            'CA' => 'Canada',
            'CV' => 'Cape Verde',
            'KY' => 'Cayman Islands',
            'CF' => 'Central African Republic',
            'TD' => 'Chad',
            'CL' => 'Chile',
            'CN' => 'China',
            'CX' => 'Christmas Island',
            'CC' => 'Cocos (Keeling) Islands',
            'CO' => 'Colombia',
            'KM' => 'Comoros',
            'CG' => 'Congo',
            'CD' => 'Zaire',
            'CK' => 'Cook Islands',
            'CR' => 'Costa Rica',
            'CI' => 'Côte D\'Ivoire',
            'HR' => 'Croatia',
            'CU' => 'Cuba',
            'CY' => 'Cyprus',
            'CZ' => 'Czech Republic',
            'DK' => 'Denmark',
            'DJ' => 'Djibouti',
            'DM' => 'Dominica',
            'DO' => 'Dominican Republic',
            'EC' => 'Ecuador',
            'EN' => 'England',
            'EN1' => 'Wales',
            'EN2' => 'Scotland',
            'EN3' => 'Great Britain',
            'EG' => 'Egypt',
            'SV' => 'El Salvador',
            'GQ' => 'Equatorial Guinea',
            'ER' => 'Eritrea',
            'EE' => 'Estonia',
            'ET' => 'Ethiopia',
            'FK' => 'Falkland Islands (Malvinas)',
            'FO' => 'Faroe Islands',
            'FJ' => 'Fiji',
            'FI' => 'Finland',
            'FR' => 'France',
            'KR' => 'South Korea',
            'GF' => 'French Guiana',
            'PF' => 'French Polynesia',
            'TF' => 'French Southern Territories',
            'GA' => 'Gabon',
            'GM' => 'Gambia',
            'GE' => 'Georgia',
            'DE' => 'Germany',
            'GH' => 'Ghana',
            'GI' => 'Gibraltar',
            'GR' => 'Greece',
            'GL' => 'Greenland',
            'GD' => 'Grenada',
            'GP' => 'Guadeloupe',
            'GU' => 'Guam',
            'GT' => 'Guatemala',
            'GG' => 'Guernsey',
            'GN' => 'Guinea',
            'GW' => 'Guinea-Bissau',
            'GY' => 'Guyana',
            'HT' => 'Haiti',
            'HM' => 'Heard Island and Mcdonald Islands',
            'VA' => 'Vatican City State',
            'HN' => 'Honduras',
            'HK' => 'Hong Kong',
            'HU' => 'Hungary',
            'IS' => 'Iceland',
            'IN' => 'India',
            'ID' => 'Indonesia',
            'IR' => 'Iran',
            'IQ' => 'Iraq',
            'IE' => 'Ireland',
            'IE1' => 'Northern Ireland',
            'IM' => 'Isle of Man',
            'IL' => 'Israel',
            'IT' => 'Italy',
            'JM' => 'Jamaica',
            'JP' => 'Japan',
            'JE' => 'Jersey',
            'JO' => 'Jordan',
            'KZ' => 'Kazakhstan',
            'KE' => 'KENYA',
            'KI' => 'Kiribati',
            'KP' => 'Korea, Democratic People\'s Republic of',
            'KR2' => 'Korea, Republic of',
            'KW' => 'Kuwait',
            'KG' => 'Kyrgyzstan',
            'LA' => 'Lao People\'s Democratic Republic',
            'LV' => 'Latvia',
            'LB' => 'Lebanon',
            'LS' => 'Lesotho',
            'LR' => 'Liberia',
            'LY' => 'Libyan Arab Jamahiriya',
            'LI' => 'Liechtenstein',
            'LT' => 'Lithuania',
            'LU' => 'Luxembourg',
            'MO' => 'Macao',
            'MK' => 'Macedonia',
            'MG' => 'Madagascar',
            'MW' => 'Malawi',
            'MY' => 'Malaysia',
            'MV' => 'Maldives',
            'ML' => 'Mali',
            'MT' => 'Malta',
            'MH' => 'Marshall Islands',
            'MQ' => 'Martinique',
            'MR' => 'Mauritania',
            'MU' => 'Mauritius',
            'YT' => 'Mayotte',
            'MX' => 'Mexico',
            'FM' => 'Micronesia, Federated States of',
            'MD' => 'Moldavia',
            'MC' => 'Monaco',
            'MN' => 'Mongolia',
            'ME' => 'Montenegro',
            'MS' => 'Montserrat',
            'MA' => 'Morocco',
            'MZ' => 'Mozambique',
            'MM' => 'Myanmar',
            'NA' => 'Namibia',
            'NR' => 'Nauru',
            'NP' => 'Nepal',
            'NL' => 'Netherlands',
            'AN' => 'Netherlands Antilles',
            'NC' => 'New Caledonia',
            'NZ' => 'New Zealand',
            'NI' => 'Nicaragua',
            'NE' => 'Niger',
            'INT' => 'International',
            'NG' => 'Nigeria',
            'NU' => 'Niue',
            'NF' => 'Norfolk Island',
            'MP' => 'Northern Mariana Islands',
            'NO' => 'Norway',
            'OM' => 'Oman',
            'PK' => 'Pakistan',
            'PW' => 'Palau',
            'PS' => 'Palestinian Territory, Occupied',
            'PA' => 'Panama',
            'PG' => 'Papua New Guinea',
            'PY' => 'Paraguay',
            'PE' => 'Peru',
            'PH' => 'Philippines',
            'PN' => 'Pitcairn',
            'PL' => 'Poland',
            'PT' => 'Portugal',
            'PR' => 'Puerto Rico',
            'QA' => 'Qatar',
            'RE' => 'Réunion',
            'RO' => 'Romania',
            'RU' => 'Russia',
            'RW' => 'Rwanda',
            'SH' => 'Saint Helena',
            'KN' => 'Saint Kitts and Nevis',
            'LC' => 'Saint Lucia',
            'PM' => 'Saint Pierre and Miquelon',
            'VC' => 'Saint Vincent and the Grenadines',
            'WS' => 'Samoa',
            'SM' => 'San Marino',
            'ST' => 'Sao Tome and Principe',
            'SA' => 'Saudi Arabia',
            'SN' => 'Senegal',
            'RS' => 'Serbia',
            'SC' => 'Seychelles',
            'SL' => 'Sierra Leone',
            'SG' => 'Singapore',
            'SK' => 'Slovakia',
            'SI' => 'Slovenia',
            'SB' => 'Solomon Islands',
            'SO' => 'Somalia',
            'ZA' => 'South Africa',
            'GS' => 'South Georgia and the South Sandwich Islands',
            'ES' => 'Spain',
            'LK' => 'Sri Lanka',
            'SD' => 'Sudan',
            'SR' => 'Suriname',
            'SJ' => 'Svalbard and Jan Mayen',
            'SZ' => 'Swaziland',
            'SE' => 'Sweden',
            'CH' => 'Switzerland',
            'SY' => 'Syrian Arab Republic',
            'TW' => 'Taiwan',
            'TJ' => 'Tajikistan',
            'TZ' => 'Tanzania, United Republic of',
            'TH' => 'Thailand',
            'TL' => 'Timor-Leste',
            'TG' => 'Togo',
            'TK' => 'Tokelau',
            'TO' => 'Tonga',
            'TT' => 'Trinidad and Tobago',
            'TN' => 'Tunisia',
            'TR' => 'Turkey',
            'TM' => 'Turkmenistan',
            'TC' => 'Turks and Caicos Islands',
            'TV' => 'Tuvalu',
            'UG' => 'Uganda',
            'UA' => 'Ukraine',
            'AE' => 'UAE',
            'GB' => 'United Kingdom',
            'US' => 'United States',
            'UM' => 'United States Minor Outlying Islands',
            'UY' => 'Uruguay',
            'UZ' => 'Uzbekistan',
            'VU' => 'Vanuatu',
            'VE' => 'Venezuela',
            'VN' => 'Vietnam',
            'VG' => 'Virgin Islands, British',
            'VI' => 'Virgin Islands, U.S.',
            'WF' => 'Wallis and Futuna',
            'EH' => 'Western Sahara',
            'YE' => 'Yemen',
            'ZM' => 'Zambia',
            'ZW' => 'Zimbabwe',
        );

        if (!isset($db[$id])) {
            return null;
        }

        $country =  strtolower($db[$id]);
        $countrycodes = array_map('strtolower', $countrycodes);

        return strtolower(array_search($country, $countrycodes));
    }
}